{"version":3,"sources":["Pages/authentication/Authentication.module.css","Components/Feed/Feed.module.css","Components/AddToFavorite/AddToFavorite.module.css","Pages/globalFeed/GlobalFeed.module.css","Components/PopularTags/PopularTags.module.css","common/Paginator/Paginator.module.css","Pages/article/Article.module.css","Components/FeedToggle/FeedToggler.module.css","Pages/CreateArtikle/ArticleForm.module.css","Components/TopBar/TopBar.module.css","common/TagList/TagList.js","Hooks/useLocalStorage.js","Hooks/useFetch.js","Components/AddToFavorite/AddToFavorite.js","Components/Feed/Feed.js","utils.js","common/Paginator/Paginator.jsx","common/Loading/Loading.js","common/ErrorMessage/Error-message.js","Components/PopularTags/PopularTags.js","context/currentUser.js","Components/FeedToggle/FeedToggler.js","Pages/globalFeed/GlobalFeed.js","Pages/article/Article.js","Pages/authentication/Authentication.js","Pages/TagFeed/TagFeed.js","Pages/YourFeed/YourFeed.js","Pages/CreateArtikle/ArticleForm.js","Pages/CreateArtikle/CreateArtikle.js","Pages/EditArticle/EditArticle.js","Pages/Settings/Settings.js","Pages/UserProfile/components/UserArticles/UserArticles.js","Pages/UserProfile/UserProfile.js","routes.js","Components/TopBar/TopBar.js","Components/CurrentUserChecker/CurrentUserChecker.js","index.js"],"names":["module","exports","TagList","tags","map","tag","key","initialvalue","useState","localStorage","getItem","value","setValue","useEffect","setItem","url","isLoading","setIsLoading","response","setResponse","error","setError","options","setOptions","useLocalStorage","token","doFetch","useCallback","requestOptions","headers","authorization","axios","then","res","data","catch","console","log","AddToFavorites","isFavoritted","favoritesCount","articleSlug","apiURL","useFetch","favoritesCountWithResponse","article","isFavoritesCountWithResponse","favorited","className","s","like","cn","flex","dima","onClick","e","preventDefault","method","img","src","alt","likes","Feed","articles","pageSize","limit","offset","feedMost","index","feed","author","authName","username","to","createdAt","ava","image","slug","title","description","tagList","AddToFavorite","getPaginator","search","parsedSearch","parse","currentPage","page","Number","PaginatorItem","active","Paginator","total","pagesCount","Math","ceil","pages","i","push","paginator","p","Loading","ErrorMessage","backendErrors","errorMessages","Object","keys","name","messages","join","PopularTags","grid","initialState","isLoggedIn","currentUser","reducer","state","action","type","payload","CurrentUserContext","createContext","CurrentUserProvider","children","useReducer","Provider","FeedToggler","tagName","useContext","currentUserState","exact","GlobalFeed","location","match","stringyfiedParams","stringify","currentUrl","articlesCount","Article","props","params","deleteArticleResponse","doDeleteArticle","isSuccessfullDelete","setIsSuccessfullDelete","Redirect","body","Authentication","isLogin","path","pageTitle","descriptionLink","buttonText","email","setEmail","password","setPassword","setUsername","isSuccessfulSubmit","setIsSuccessfulSubmit","setToken","dispatch","user","content","h","reg","errors","inp","placeholder","onChange","currentTarget","target","disabled","TagFeed","YourFeed","ArtikleForm","onSubmit","initialValues","setTitle","setBody","setDescription","setTagList","CreateArtikle","isSuccessfullSubmit","setIsSuccessfullSubmit","EditArticle","fetchArticleResponse","doFetchArticle","updateArticleResponse","updateArticleError","doUpdateArticle","setInitialValues","Settings","setImage","bio","setBio","isSuccessfullLogout","setIsSuccessfullLogout","UserArticle","isFavorites","getAPIURL","UserProfile","pathname","includes","profile","component","TopBar","logo","item","activeClassName","hh","CurrentUserChecker","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.26273b5d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"h\":\"Authentication_h__2Bbb6\",\"reg\":\"Authentication_reg__6snhn\",\"inp\":\"Authentication_inp__1JxWb\",\"content\":\"Authentication_content__3_DPO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feedMost\":\"Feed_feedMost__2TOD6\",\"feed\":\"Feed_feed__1yX7Q\",\"column\":\"Feed_column__1qEQj\",\"author\":\"Feed_author__3M5R8\",\"img\":\"Feed_img__jEjg-\",\"authName\":\"Feed_authName__1KtMH\",\"ava\":\"Feed_ava__3SOaJ\",\"createdAt\":\"Feed_createdAt__1Ixr6\",\"username\":\"Feed_username__3LIZh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"AddToFavorite_img__2hi-J\",\"like\":\"AddToFavorite_like__zm9lk\",\"flex\":\"AddToFavorite_flex__39qmH\",\"dima\":\"AddToFavorite_dima__1e5cG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GlobalFeed\":\"GlobalFeed_GlobalFeed__1wc_1\",\"grid\":\"GlobalFeed_grid__3FGqk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PopularTags\":\"PopularTags_PopularTags__2EpsD\",\"tag\":\"PopularTags_tag__2WqqW\",\"grid\":\"PopularTags_grid__31ZBJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3Kmm4\",\"active\":\"Paginator_active__3zDeU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"Article_ava__3nij9\",\"dima\":\"Article_dima__10hB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FeedToggler\":\"FeedToggler_FeedToggler__3FhVi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"ArticleForm_article__1lynd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hh\":\"TopBar_hh__1JTEJ\",\"logo\":\"TopBar_logo__1oZYJ\",\"active\":\"TopBar_active__61wr8\",\"item\":\"TopBar_item__3Mbny\",\"nav\":\"TopBar_nav__R2EPg\"};","import React from \"react\";\r\n\r\nconst TagList = ({tags}) => {\r\n\r\nreturn (\r\n    <div>\r\n        {tags.map(tag => (\r\n            <span key={tag}>{tag}</span>))}\r\n    </div>\r\n\r\n)\r\n};\r\n\r\nexport default TagList;","import {useEffect, useState} from \"react\";\r\n\r\nexport default (key, initialvalue = '') => {\r\n    const [value, setValue] = useState( () => {\r\n        return localStorage.getItem(key) || initialvalue\r\n    } );\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(key, value)\r\n    }, [value, key]);\r\n    return [value, setValue]\r\n}","import {useCallback, useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nexport default (url) => {\r\n\r\n    const baseURL = 'https://conduit.productionready.io/api/';\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [response, setResponse] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const [options, setOptions] = useState({})\r\n    const [token] = useLocalStorage('token');\r\n\r\n    const doFetch = useCallback((options = {}) => {\r\n        setOptions(options);\r\n        setIsLoading(true);\r\n    }, []);\r\n    useEffect(() => {\r\n        const requestOptions = {\r\n            ...options,\r\n            ...{\r\n                headers: {\r\n                    authorization: token ? `Token ${token}` : ''\r\n                }\r\n            }\r\n        };\r\n        if (!isLoading) {\r\n            return\r\n        }\r\n        axios(baseURL + url, requestOptions/* {\r\n            method: 'post',\r\n            data: {\r\n                user: {\r\n                    email: 'qqq@qq.com',\r\n                    password: '123'\r\n                }\r\n            }\r\n        }*/).then(res => {\r\n            setIsLoading(false);\r\n            setResponse(res.data)\r\n        }).catch(error => {\r\n            console.log('error', error)\r\n            setIsLoading(false);\r\n            setError(error.response.data)\r\n        })\r\n    }, [isLoading, url, options, token]);\r\n        return [{isLoading, response, error}, doFetch]\r\n\r\n}","import React from 'react';\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport cn from \"classnames\";\r\n\r\n\r\nimport s from './AddToFavorite.module.css'\r\n\r\nconst AddToFavorites = ({isFavoritted, favoritesCount, articleSlug}) => {\r\n\r\n    const apiURL = `articles/${articleSlug}/favorite`;\r\n    const [{response}, doFetch] = useFetch(apiURL);\r\n    const favoritesCountWithResponse = response ? response.article.favoritesCount : favoritesCount;\r\n    const isFavoritesCountWithResponse = response ? response.article.favorited : isFavoritted;\r\n\r\n    const handdleLike = (e) => {\r\n        e.preventDefault();\r\n        doFetch({\r\n            method: isFavoritesCountWithResponse ? 'delete' : 'post'\r\n        })\r\n    };\r\n\r\n    return <div className={s.like}>\r\n        <button\r\n            className={ cn({[s.flex]: true, [s.dima]: isFavoritesCountWithResponse\r\n                })}\r\n             onClick={handdleLike}>\r\n            <img className={s.img} src={'https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Ei-like.svg/1200px-Ei-like.svg.png'} alt=\"\"/>\r\n            <span className={s.likes}>{favoritesCountWithResponse}</span>\r\n        </button>\r\n    </div>\r\n};\r\n\r\nexport default AddToFavorites","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nimport s from './Feed.module.css'\r\nimport TagList from \"../../common/TagList/TagList\";\r\nimport AddToFavorites from \"../AddToFavorite/AddToFavorite\";\r\n\r\n\r\nconst Feed = ({articles, pageSize, response, limit, offset}) => {\r\n    return (\r\n        <div className={s.feedMost}>\r\n            {articles.map((article, index) => (\r\n                <div className={s.feed} key={index}>\r\n                    <div className={s.author}>\r\n                        <div className={s.authName}>\r\n                            <NavLink className={s.username} to={`/profile/${article.author.username}`}>\r\n                                {article.author.username}\r\n                            </NavLink>\r\n                            <span className={s.createdAt}>{article.createdAt}</span>\r\n                        </div>\r\n                        <div className={s.img}><NavLink to={`/profile/${article.author.username}`}>\r\n                            <img className={s.ava} src={article.author.image} alt=\" \"/>\r\n                        </NavLink></div>\r\n{/*                        <div>\r\n                            <AddToFavorites isFavoritted={article.favorited} favoritesCount={article.favoritesCount}\r\n                                articleSlug={article.slug}/>\r\n                        </div>*/}\r\n                    </div>\r\n                    <div>\r\n                        <NavLink to={`/articles/${article.slug}`}>\r\n                            <h1>{article.title}</h1>\r\n                            <p>{article.description}</p>\r\n                            <span>Читать подробнее..</span>\r\n                                <TagList tags={article.tagList} />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        <AddToFavorites isFavoritted={article.favorited} favoritesCount={article.favoritesCount}\r\n                                        articleSlug={article.slug}/>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Feed;","import {parse} from 'query-string'\r\n\r\nexport const limit = 10;\r\n\r\nexport const getPaginator = search => {\r\n    const parsedSearch = parse(search)\r\n    const currentPage = parsedSearch.page ? Number(parsedSearch.page) : 1\r\n    const offset = currentPage * limit - limit\r\n    return {currentPage, offset}\r\n};","import React from 'react'\r\nimport s from './Paginator.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst PaginatorItem = ({url, page, currentPage}) => {\r\n\r\n\r\n\r\n    return (\r\n        <NavLink className={currentPage === page && s.active} to={`${url}?page=${page}`}><span>\r\n            {page}\r\n            </span></NavLink>\r\n    )\r\n\r\n};\r\n\r\n\r\n\r\nlet Paginator = (/*{totalItemsCount, pageSize, currentPage = 1, onPageChanged, portionSize = 10}*/\r\n                    {total, limit, url, currentPage}\r\n) => {\r\n\r\n\r\n    let pagesCount = Math.ceil(total / limit);\r\n    let pages = [];\r\n    for (let i =1; i<= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n\r\n    return <div className={s.paginator}>\r\n        {pages.map((p , index) => (\r\n            <PaginatorItem page={p} currentPage={currentPage} url={url} key={p}  />\r\n            )\r\n        )}\r\n    </div>\r\n\r\n};\r\n\r\n\r\n\r\nexport default Paginator;","import React from 'react';\r\n\r\nconst Loading = () => {\r\n\r\n    return <div>\r\n        Загрузка...\r\n    </div>\r\n};\r\n\r\nexport default Loading;","import React from 'react';\r\n\r\nconst ErrorMessage = ( {backendErrors}) => {\r\n\r\n    const errorMessages = Object.keys(backendErrors).map(name => {\r\n        const messages = backendErrors[name].join(' ');\r\n        return `${name} ${messages}`\r\n    });\r\n\r\n    return <div>\r\n        {errorMessages.map(errorMessages => (\r\n            <div key={errorMessages}> {errorMessages}</div>\r\n        ))}\r\n    </div>\r\n};\r\n\r\nexport default ErrorMessage;","import React, {useEffect} from 'react';\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport ErrorMessage from \"../../common/ErrorMessage/Error-message\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './PopularTags.module.css'\r\n\r\nconst PopularTags = () => {\r\n\r\n    const [{response, isLoading, error}, doFetch] = useFetch('tags');\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch]);\r\n\r\n    if (isLoading || !response) {\r\n        return <Loading />\r\n    }\r\n    if (error) {\r\n        return <ErrorMessage />\r\n    }\r\n\r\n    return <div className={s.PopularTags}>\r\n        <p>Топ тэгов:</p>\r\n        <div className={s.grid}>\r\n            {response.tags.map(tag => (\r\n                <NavLink className={s.tag} to={`/tags/${tag}`} key={tag}>\r\n                    {tag}\r\n                </NavLink>\r\n            ))}\r\n        </div>\r\n    </div>\r\n\r\n};\r\n\r\nexport default PopularTags;","import React, {useReducer} from 'react';\r\nimport {createContext, useState} from 'react';\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    isLoggedIn: null,\r\n    currentUser: null,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'LOADING':\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            };\r\n        case 'SET_AUTHORIZED':\r\n            return {\r\n                ...state,\r\n                isLoggedIn: true,\r\n                isLoading:false,\r\n                currentUser: action.payload\r\n            };\r\n        case 'SET_UNAUTHORIZED':\r\n            return  {\r\n                ...state,\r\n                isLoggedIn: false,\r\n            };\r\n        case 'LOGOUT' :\r\n            return  {\r\n                ...initialState,\r\n                isLoggedIn: false,\r\n            };\r\n        default:\r\n            return state\r\n\r\n    }\r\n};\r\n\r\n\r\nexport const CurrentUserContext = createContext(/*[{}, () => {\r\n}]*/\r\n\r\n);\r\n\r\nexport const CurrentUserProvider = ({children}) => {\r\n/*\r\n\r\n    const [state, setState] = useState({\r\n        isLoading: false,\r\n        isLoggedIn: null,\r\n        currentUser: null,\r\n    });\r\n*/\r\n\r\n    const value = useReducer(reducer, initialState);\r\n\r\n    return (\r\n        <CurrentUserContext.Provider /*value={[state, setState]}*/ value={value} >\r\n            {children}\r\n        </CurrentUserContext.Provider>\r\n    )\r\n};","import React, {useContext} from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\nimport s from './FeedToggler.module.css'\r\n\r\nconst FeedToggler = ({tagName}) => {\r\n\r\n    const [currentUserState] = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <div className={s.FeedToggler}>\r\n            { currentUserState.isLoggedIn &&\r\n                <NavLink to={'/feed'}>Your Feed</NavLink>\r\n            }\r\n            <NavLink to={'/'} exact >Global Feed</NavLink>\r\n            {tagName &&\r\n                <NavLink to={`/tags/${tagName}`} exact >{tagName}</NavLink>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default FeedToggler;","import React, {Fragment, useEffect} from \"react\"\r\n\r\nimport s from './GlobalFeed.module.css'\r\n\r\nimport Feed from \"../../Components/Feed/Feed\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {getPaginator, limit} from \"../../utils\";\r\nimport {stringify} from \"query-string\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport PopularTags from \"../../Components/PopularTags/PopularTags\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport ErrorMessage from \"../../common/ErrorMessage/Error-message\";\r\nimport FeedToggler from \"../../Components/FeedToggle/FeedToggler\";\r\n\r\nconst GlobalFeed = ({location, match}) => {\r\n\r\n    const {offset, currentPage} = getPaginator(location.search);\r\n\r\n    const stringyfiedParams = stringify({\r\n        limit,\r\n        offset\r\n    });\r\n    const apiURL = `articles?${stringyfiedParams}`;\r\n    const currentUrl = match.url;\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiURL);\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, currentPage]);\r\n\r\n    return <div className={s.GlobalFeed}>\r\n        {isLoading && <Loading/>}\r\n        {error && <ErrorMessage />}\r\n        {!isLoading && response && (\r\n            <Fragment>\r\n                <FeedToggler />\r\n                <Paginator\r\n                    total={response.articlesCount}\r\n                    limit={limit}\r\n                    url={currentUrl}\r\n                    currentPage={currentPage}\r\n                />\r\n                <div className={s.grid}>\r\n                    <Feed articles={response.articles} pageSize={offset} response={response}  limit={limit} offset={offset} />\r\n                    <PopularTags />\r\n                </div>\r\n\r\n            </Fragment>\r\n\r\n        )}\r\n    </div>\r\n};\r\n\r\nexport default GlobalFeed;","import React, {useContext, useEffect, useState} from \"react\"\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport TagList from \"../../common/TagList/TagList\";\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\nimport Redirect from \"react-router-dom/es/Redirect\";\r\nimport s from './Article.module.css'\r\n\r\nconst Article = (props) => {\r\n\r\n    const slug = props.match.params.slug;\r\n    const apiURL = `articles/${slug}`;\r\n    const [{response, error, isLoading}, doFetch] = useFetch(apiURL);\r\n    const [{response: deleteArticleResponse}, doDeleteArticle] = useFetch(apiURL)\r\n    const [currentUserState] = useContext(CurrentUserContext);\r\n    const [isSuccessfullDelete, setIsSuccessfullDelete] = useState(false);\r\n\r\n    const isAuthor = () => {\r\n        if (!response || !currentUserState.isLoggedIn) {\r\n            return false\r\n        }\r\n        return  response.article.author.username === currentUserState.currentUser.username\r\n    };\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch]);\r\n\r\n    const deleteArticle = () => {\r\n        doDeleteArticle({\r\n            method: 'delete'\r\n        })\r\n    };\r\n    useEffect(() => {\r\n        if (!deleteArticleResponse) {\r\n            return\r\n        }\r\n        setIsSuccessfullDelete(true)\r\n    }, [deleteArticleResponse]);\r\n\r\n    if (isSuccessfullDelete) {\r\n        return  <Redirect to={'/'} />\r\n    }\r\n\r\n    return <div>\r\n        <div>Baner xD\r\n            {!isLoading && response && (\r\n                <div>\r\n                    <h1 className={s.dima}>{response.article.title}</h1>\r\n                    <div>\r\n                        <NavLink to={`/profile/${response.article.author.username}`}>\r\n                            <img className={s.ava} src={response.article.author.image} alt=\" \"/>\r\n                        </NavLink>\r\n                        <div>\r\n                            <NavLink to={`/profile/${response.article.author.username}`}>\r\n                                {response.article.author.username}\r\n                            </NavLink>\r\n\r\n                            <span>{response.article.createdAt}</span>\r\n                        </div>\r\n                        {isAuthor() && (\r\n                            <span>\r\n                                <NavLink to={`/articles/${response.article.slug}/edit`} > Редактировать</NavLink>\r\n                                <button onClick={deleteArticle}> Удалить пост</button>\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n        <div>\r\n            {isLoading && <Loading/>}\r\n            {error && <div>Ошибка</div>}\r\n            {!isLoading && response && (\r\n                <div>\r\n                    <div><p>{response.article.body}</p></div>\r\n                    <TagList tags={response.article.tagList} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Article;","import React, {useEffect, useState, useContext} from 'react';\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\n\r\nimport s from './Authentication.module.css'\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport useLocalStorage from \"../../Hooks/useLocalStorage\";\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\n\r\nconst Authentication = (props) => {\r\n\r\n    const isLogin = props.match.path === '/login';\r\n\r\n    const pageTitle = isLogin ? 'Авторизация' : 'Регистрация';\r\n    const descriptionLink = isLogin\r\n        ? <NavLink to={'/register'}>Нету аккаунта? Зарегистрируйтесь!</NavLink>\r\n        : <NavLink to={'/login'}>У вас уже есть аккаунт?</NavLink>;\r\n    const apiURL = isLogin ? 'users/login' : 'users';\r\n    const buttonText = isLogin ? 'Войти' : 'Зарегистрироваться';\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [isSuccessfulSubmit, setIsSuccessfulSubmit] = useState(false);\r\n\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiURL);\r\n    const [/*token*/, setToken] = useLocalStorage('token');\r\n/*\r\n    const [currentUserState, setCurrentUserState] = useContext(CurrentUserContext);\r\n*/\r\n    const [, dispatch] = useContext(CurrentUserContext);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const user = isLogin ? {email, password} : {email, password, username};\r\n        doFetch({\r\n            method: 'post',\r\n            data: {\r\n                user\r\n            }\r\n        })\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!response) {\r\n            return\r\n        }\r\n        setToken(response.user.token);\r\n        setIsSuccessfulSubmit(true);\r\n        dispatch({type: 'SET_AUTHORIZED', payload: response.user})\r\n/*        setCurrentUserState(state => ({ // До использования useReducer\r\n            ...state,\r\n            isLoggedIn: true,\r\n            isLoading:false,\r\n            currentUser: response.user\r\n        }))*/\r\n    }, [response, setToken, dispatch]);\r\n    /*useEffect(() => {\r\n        if (!isSubmitting) {\r\n          return\r\n        }\r\n    axios('https://conduit.productionready.io/api/users/login', {\r\n        method: 'post',\r\n        data: {\r\n            user: {\r\n                email: 'qqq@qq.com',\r\n                password: '123'\r\n            }\r\n        }\r\n    }).then(res => {\r\n        console.log('successs', res)\r\n        setIsSubmitting(false);\r\n    }).catch(error => {\r\n        console.log('error', error)\r\n        setIsSubmitting(false);\r\n\r\n    })\r\n    });*/ // Мб пригодится в Магазе\r\n    if (isSuccessfulSubmit) {\r\n        return <Redirect to={'/'}/>\r\n    }\r\n    return (\r\n        <div className={s.content}>\r\n            <div><h1 className={s.h}>{pageTitle}</h1></div>\r\n            <div className={s.reg}>{descriptionLink}</div>\r\n            <form>\r\n                {!isLogin &&\r\n                <div className={s.reg}>\r\n                    {error && <div>{error.errors.username}</div>}\r\n                    <input className={s.inp} type=\"text\" placeholder={'Имя пользователя'}\r\n                                              value={username} onChange={e => setUsername(e.currentTarget.value)}/>\r\n                </div>\r\n                }\r\n                <div className={s.reg}>\r\n                    {error && <div>{error.errors.email || 'Логин или пароль не подходят'}</div>}\r\n                    <input type={'email'} className={s.inp} placeholder={'Почта'}\r\n                                              value={email} onChange={e => setEmail(e.target.value)}/></div>\r\n                <div className={s.reg}>\r\n                    {error && <div>{error.errors.password}</div>}\r\n                    <input type={'password'} className={s.inp} placeholder={'Пароль'}\r\n                                              value={password} onChange={e => setPassword(e.target.value)}/></div>\r\n                <div className={s.reg}>\r\n                    <button onClick={handleSubmit} disabled={isLoading}>{buttonText}</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Authentication;","import React, {Fragment, useEffect} from \"react\"\r\nimport Feed from \"../../Components/Feed/Feed\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {getPaginator, limit} from \"../../utils\";\r\nimport {stringify} from \"query-string\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport PopularTags from \"../../Components/PopularTags/PopularTags\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport ErrorMessage from \"../../common/ErrorMessage/Error-message\";\r\nimport FeedToggler from \"../../Components/FeedToggle/FeedToggler\";\r\n\r\nconst TagFeed = ({location, match}) => {\r\n\r\n    const tagName = match.params.slug;\r\n\r\n    const {offset, currentPage} = getPaginator(location.search);\r\n\r\n    const stringyfiedParams = stringify({\r\n        limit,\r\n        offset,\r\n        tag: tagName\r\n    });\r\n    const apiURL = `articles?${stringyfiedParams}`;\r\n    const currentUrl = match.url;\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiURL);\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, currentPage, tagName]);\r\n\r\n    return <div>\r\n        {isLoading && <Loading/>}\r\n        {error && <ErrorMessage />}\r\n        {!isLoading && response && (\r\n            <Fragment>\r\n                <FeedToggler tagName={tagName} />\r\n                <Paginator\r\n                    total={response.articlesCount}\r\n                    limit={limit}\r\n                    url={currentUrl}\r\n                    currentPage={currentPage}\r\n                />\r\n\r\n                <Feed articles={response.articles} pageSize={offset} response={response}  limit={limit} offset={offset} />\r\n                <PopularTags />\r\n            </Fragment>\r\n\r\n        )}\r\n    </div>\r\n};\r\n\r\nexport default TagFeed;","import React, {Fragment, useEffect} from \"react\"\r\nimport Feed from \"../../Components/Feed/Feed\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {getPaginator, limit} from \"../../utils\";\r\nimport {stringify} from \"query-string\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport PopularTags from \"../../Components/PopularTags/PopularTags\";\r\nimport Loading from \"../../common/Loading/Loading\";\r\nimport ErrorMessage from \"../../common/ErrorMessage/Error-message\";\r\nimport FeedToggler from \"../../Components/FeedToggle/FeedToggler\";\r\nimport s from \"../globalFeed/GlobalFeed.module.css\";\r\n\r\nconst YourFeed = ({location, match}) => {\r\n\r\n    const tagName = match.params.slug;\r\n\r\n    const {offset, currentPage} = getPaginator(location.search);\r\n    console.log('ff', offset, currentPage);\r\n\r\n    const stringyfiedParams = stringify({\r\n        limit,\r\n        offset,\r\n        tag: tagName\r\n    });\r\n    const apiURL = `articles/feed?${stringyfiedParams}`;\r\n    const currentUrl = match.url;\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiURL);\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, currentPage, tagName]);\r\n\r\n    return <div>\r\n        {isLoading && <Loading/>}\r\n        {error && <ErrorMessage />}\r\n        {!isLoading && response && (\r\n            <Fragment>\r\n                <FeedToggler tagName={tagName} />\r\n                <Paginator\r\n                    total={response.articlesCount}\r\n                    limit={limit}\r\n                    url={currentUrl}\r\n                    currentPage={currentPage}\r\n                />\r\n                <div className={s.grid}>\r\n                    <Feed articles={response.articles} pageSize={offset} response={response}  limit={limit} offset={offset} />\r\n                    <PopularTags />\r\n                </div>\r\n\r\n            </Fragment>\r\n\r\n        )}\r\n    </div>\r\n};\r\n\r\nexport default YourFeed;","import React, {useEffect, useState} from 'react';\r\nimport ErrorMessage from \"../../common/ErrorMessage/Error-message\";\r\n\r\nimport s from './ArticleForm.module.css'\r\n\r\n\r\nconst ArtikleForm = ({onSubmit, errors, initialValues}) => {\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [tagList, setTagList] = useState('');\r\n\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        const article = {\r\n            title,\r\n            body,\r\n            description,\r\n            tagList\r\n        };\r\n        onSubmit(article);\r\n    };\r\n\r\n    useEffect( () => {\r\n        if (!initialValues) {\r\n            return\r\n        }\r\n        setTitle(initialValues.title);\r\n        setBody(initialValues.body);\r\n        setDescription(initialValues.description);\r\n        setTagList(initialValues.tagList.join(' '));\r\n    }, [initialValues]);\r\n\r\n\r\n    return <div className={s.article}>\r\n        <div>\r\n            <div>\r\n                {errors &&  <ErrorMessage backendErrors={errors} />}\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <input type=\"text\" value={title} placeholder={'Введите заголовок'}\r\n                        onChange={(e) => setTitle(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"text\" value={body} placeholder={'Введите о чем ваш пост'}\r\n                               onChange={(e) => setBody(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"text\" value={description} placeholder={'Введите пост'}\r\n                               onChange={(e) => setDescription(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"text\" value={tagList} placeholder={'Введите тэги'}\r\n                               onChange={(e) => setTagList(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <button type={'submit'}> Отправить пост</button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default ArtikleForm;","import React, {useContext, useEffect, useState} from 'react';\r\nimport ArtikleForm from \"./ArticleForm\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\n\r\nconst CreateArtikle = () => {\r\n\r\n    const [isSuccessfullSubmit, setIsSuccessfullSubmit] = useState(false)\r\n\r\n    const apiURL = `articles`;\r\n    const [{response, error}, doFetch] = useFetch(apiURL);\r\n\r\n    const [currentUserState] = useContext(CurrentUserContext);\r\n\r\n    const initialValues = {\r\n        title: '',\r\n        body: '',\r\n        description: '',\r\n        tagList: [],\r\n\r\n    };\r\n    const handleSubmit = article => {\r\n        doFetch({\r\n            method: 'post',\r\n            data: {\r\n                article\r\n            }\r\n        })\r\n    };\r\n\r\n    useEffect(() => {\r\n       if (!response) {\r\n           return\r\n       }\r\n       setIsSuccessfullSubmit(true)\r\n    }, [response]);\r\n\r\n    if (currentUserState.isLoggedIn === false) {\r\n        return <Redirect to={'/'} />\r\n    }\r\n\r\n    if (isSuccessfullSubmit) {\r\n        return  <Redirect to={`/articles/${response.article.slug}`} />\r\n    }\r\n\r\n  return <div>\r\n      <ArtikleForm errors={(error && error.errors) || {}} initialValues={initialValues} onSubmit={handleSubmit}   />\r\n  </div>\r\n};\r\n\r\nexport default CreateArtikle;","import React, {useContext, useEffect, useState} from 'react';\r\n\r\nimport ArtikleForm from \"../CreateArtikle/ArticleForm\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\n\r\n\r\nconst EditArticle = ({match}) => {\r\n\r\n    const slug = match.params.slug;\r\n\r\n    const [currentUserState] = useContext(CurrentUserContext);\r\n\r\n    const apiURL = `articles/${slug}`;\r\n    const [{response : fetchArticleResponse}, doFetchArticle ] = useFetch(apiURL);\r\n    const [{response: updateArticleResponse, error: updateArticleError}, doUpdateArticle] = useFetch(apiURL);\r\n\r\n    const handleSubmit = (article) => {\r\n        doUpdateArticle({\r\n            method: 'put',\r\n            data: {\r\n                article\r\n            }\r\n        })\r\n    };\r\n\r\n    useEffect(()=> {\r\n        doFetchArticle()\r\n    }, [doFetchArticle]);\r\n\r\n    const [initialValues, setInitialValues] = useState(null);\r\n    const [isSuccessfullSubmit, setIsSuccessfullSubmit] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (!fetchArticleResponse) {\r\n            return\r\n        }\r\n        setInitialValues({\r\n            title: fetchArticleResponse.article.title,\r\n            description: fetchArticleResponse.article.description,\r\n            body: fetchArticleResponse.article.body,\r\n            tagList:fetchArticleResponse.article.tagList,\r\n        })\r\n    }, [fetchArticleResponse]);\r\n\r\n    useEffect(() => {\r\n        if (!updateArticleResponse) {\r\n            return\r\n        }\r\n        setIsSuccessfullSubmit(true)\r\n    }, [updateArticleResponse]);\r\n\r\n    if (currentUserState.isLoggedIn === false) {\r\n        return <Redirect to={`/`} />\r\n    }\r\n\r\n    if (isSuccessfullSubmit) {\r\n        return  <Redirect to={`/articles/${slug}`} />\r\n    }\r\n\r\n    return (\r\n        <ArtikleForm onSubmit={handleSubmit} errors={(updateArticleError && updateArticleError.errors) || {}}\r\n            initialValues={initialValues} />\r\n    )\r\n};\r\n\r\nexport default EditArticle;","import React, {useContext, useEffect, useState} from 'react';\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport ErrorMessage from \"../../common/ErrorMessage/Error-message\";\r\nimport useLocalStorage from \"../../Hooks/useLocalStorage\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Settings = () => {\r\n\r\n    const [currentUserState , dispatch] = useContext(CurrentUserContext);\r\n\r\n\r\n\r\n    const apiURL = '/user';\r\n    const [{response, error}, doFetch] = useFetch(apiURL);\r\n    const [image, setImage] = useState('')\r\n    const [username, setUsername] = useState('');\r\n    const [bio, setBio] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isSuccessfullLogout, setIsSuccessfullLogout] = useState(false)\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        doFetch({\r\n            method: 'put',\r\n            data: {\r\n                user: {\r\n                    ...currentUserState.currentUser,\r\n                    image,\r\n                    username,\r\n                    bio,\r\n                    email,\r\n                    password\r\n                }\r\n            }\r\n        })\r\n    };\r\n\r\n    const [, setToken] = useLocalStorage('token')\r\n\r\n    const logout = (e) => {\r\n        e.preventDefault();\r\n        setToken('');\r\n        dispatch({type: 'LOGOUT'})\r\n        setIsSuccessfullLogout(true)\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!currentUserState.currentUser) {\r\n            return\r\n        }\r\n        setImage(currentUserState.currentUser.image);\r\n        setUsername(currentUserState.currentUser.username);\r\n        setBio(currentUserState.currentUser.bio);\r\n        setEmail(currentUserState.currentUser.email);\r\n\r\n\r\n    }, [currentUserState.currentUser]);\r\n\r\n    useEffect(() => {\r\n        if (!response) {\r\n            return\r\n        }\r\n        dispatch({type: 'SET_AUTHORIZED', payload: response.user})\r\n    }, [response, dispatch]);\r\n\r\n    if (isSuccessfullLogout) {\r\n        return <Redirect to={'/'} />\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            <h1>Ваши настройки</h1>\r\n            {error && <ErrorMessage backendErrors={error.errors}  /> }\r\n            <form onSubmit={handleSubmit}>\r\n                <input type=\"text\" placeholder={'Вставьте ссылку на вашу картинку'}\r\n                       value={image} onChange={e => setImage(e.target.value) }/>\r\n                <input type=\"text\" placeholder={'Имя пользователя'}\r\n                       value={username} onChange={e => setUsername(e.target.value)} />\r\n                <input type=\"textarea\" placeholder={'Расскажите о себе'}\r\n                       value={bio} onChange={e => setBio(e.target.value)} />\r\n                <input type=\"text\" placeholder={'Почта'}\r\n                       value={email} onChange={e => setEmail(e.target.value)}/>\r\n                <input type=\"password\" placeholder={'Пароль'}\r\n                       value={password} onChange={e => setPassword(e.target.value)}/>\r\n                <button type={'submit'}>\r\n                    Изменить\r\n                </button>\r\n\r\n            </form>\r\n            <hr/>\r\n            <button onClick={logout}>Выйти из акакунта</button>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Settings;","import React, {Fragment, useEffect} from 'react';\r\nimport {getPaginator, limit} from \"../../../../utils\";\r\nimport {stringify} from \"query-string\";\r\nimport useFetch from \"../../../../Hooks/useFetch\";\r\nimport Loading from \"../../../../common/Loading/Loading\";\r\nimport ErrorMessage from \"../../../../common/ErrorMessage/Error-message\";\r\nimport Feed from \"../../../../Components/Feed/Feed\";\r\nimport Paginator from \"../../../../common/Paginator/Paginator\";\r\n\r\n\r\nconst getAPIURL = ({username, offset, isFavorites}) => {\r\n    const params = isFavorites\r\n        ? {limit, offset, favorited: username}\r\n        : {limit, offset, author: username};\r\n    return `articles?${stringify(params)}`\r\n};\r\n\r\n\r\nconst UserArticle = ({username, location, isFavorites, url}) => {\r\n\r\n\r\n    const {offset, currentPage} = getPaginator(location.search);\r\n\r\n    const apiURL = getAPIURL({username, offset, isFavorites});\r\n    const [{response, isLoading, error}, doFetch] = useFetch(apiURL);\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch, isFavorites]);\r\n\r\n    return <div>\r\n        {isLoading && <Loading/>}\r\n        {error && <div>error </div>}\r\n        {!isLoading && response && (\r\n            <Fragment >\r\n                <Paginator total={response.articlesCount} limit={limit} url={url} currentPage={currentPage} />\r\n                <Feed articles={response.articles} />\r\n            </Fragment>\r\n        )}\r\n    </div>\r\n};\r\n\r\nexport default UserArticle;\r\n","import React, {useEffect} from 'react';\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport UserArticle from \"./components/UserArticles/UserArticles\";\r\n\r\nconst UserProfile = ({location, match}) => {\r\n\r\n    const slug = match.params.slug;\r\n    const isFavorites = location.pathname.includes('favorites');\r\n\r\n    const apiURL = `profiles/${slug}`;\r\n    const [{response}, doFetch] = useFetch(apiURL);\r\n\r\n    useEffect(() => {\r\n        doFetch()\r\n    }, [doFetch]);\r\n\r\n    if (!response) {\r\n        return null\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            <img src={response.profile.image} alt=\" \"/>\r\n            <h4>{response.profile.username}</h4>\r\n            <p>{response.profile.bio}</p>\r\n        </div>\r\n        <div>\r\n            <NavLink to={`/profile/${response.profile.username}`}>\r\n                Мои посты\r\n            </NavLink>\r\n        </div>\r\n        <div>\r\n            <NavLink to={`/profile/${response.profile.username}/favorites`}>\r\n                Отлайканные\r\n            </NavLink>\r\n        </div>\r\n        <UserArticle username={response.profile.username} location={location}\r\n                     isFavorites={isFavorites} url={match.url}/>\r\n    </div>\r\n};\r\nexport default UserProfile;\r\n","import React from \"react\";\r\nimport {\r\n    Switch,\r\n    Route,\r\n} from \"react-router-dom\";\r\nimport GlobalFeed from \"./Pages/globalFeed/GlobalFeed\";\r\nimport Article from \"./Pages/article/Article\";\r\nimport Authentication from \"./Pages/authentication/Authentication\";\r\nimport TagFeed from \"./Pages/TagFeed/TagFeed\";\r\nimport YourFeed from \"./Pages/YourFeed/YourFeed\";\r\nimport CreateArtikle from \"./Pages/CreateArtikle/CreateArtikle\";\r\nimport EditArticle from \"./Pages/EditArticle/EditArticle\";\r\nimport Settings from \"./Pages/Settings/Settings\";\r\nimport UserProfile from \"./Pages/UserProfile/UserProfile\";\r\n\r\n\r\nexport default () => {\r\n    return(\r\n        <Switch>\r\n            <Route path={'/'} component={GlobalFeed} exact></Route>\r\n            <Route path={'/profile/:slug'} component={UserProfile} ></Route>\r\n            <Route path={'/profile/:slug/favorites'} component={UserProfile} ></Route>\r\n            <Route path={'/articles/new'} component={CreateArtikle} ></Route>\r\n            <Route path={'/articles/:slug/edit'} component={EditArticle} ></Route>\r\n            <Route path={'/feed'} component={YourFeed} ></Route>\r\n            <Route path={'/settings'} component={Settings} ></Route>\r\n            <Route path={'/tags/:slug'} component={TagFeed}></Route>\r\n            <Route path={'/login'} component={Authentication} ></Route>\r\n            <Route path={'/register'} component={Authentication} ></Route>\r\n            <Route path={'/articles/:slug'} component={Article}></Route>\r\n        </Switch>\r\n    )\r\n}\r\n\r\n","import React, {Fragment, useContext} from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './TopBar.module.css'\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\n\r\nconst TopBar = () => {\r\n\r\n    const [currentUserState] = useContext(CurrentUserContext);\r\n\r\n    currentUserState.isLoggedIn && console.log(currentUserState.currentUser.image)\r\n    return (\r\n    <nav >\r\n        <div className={s.logo}>\r\n            <NavLink to={'/'}>LOGO</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink activeClassName={s.active} className={s.hh} to={'/'} exact>Домой</NavLink>\r\n            {currentUserState.isLoggedIn === false && (\r\n                <Fragment>\r\n                    <NavLink activeClassName={s.active} className={s.hh} to={'/login'} >Войти</NavLink>\r\n                    <NavLink activeClassName={s.active} className={s.hh} to={'/register'}>Зарегистрироваться</NavLink>\r\n                </Fragment>\r\n            ) }\r\n\r\n            {currentUserState.isLoggedIn && (\r\n                <Fragment>\r\n                    <NavLink activeClassName={s.active} className={s.hh} to={'/articles/new'} >Новый пост</NavLink>\r\n                    <NavLink activeClassName={s.active} className={s.hh} to={'/settings'} >Настройки</NavLink>\r\n                    <NavLink activeClassName={s.active} className={s.hh}\r\n                             to={`/profiles/${currentUserState.currentUser.username}`} >\r\n                        <img src={currentUserState.currentUser.image\r\n                        || 'https://kacabiru.files.wordpress.com/2010/11/smilelaughuy0.png'}\r\n                             alt={currentUserState.currentUser.username}/>\r\n                        {'   '}\r\n                        {currentUserState.currentUser.username}\r\n                    </NavLink>\r\n\r\n                </Fragment>\r\n            )}\r\n\r\n        </div>\r\n    </nav>\r\n    )\r\n};\r\n\r\nexport default TopBar;","import {useContext, useEffect} from 'react';\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport {CurrentUserContext} from \"../../context/currentUser\";\r\nimport useLocalStorage from \"../../Hooks/useLocalStorage\";\r\n\r\nconst CurrentUserChecker = ({children}) => {\r\n    const [{response}, doFetch] = useFetch('user');\r\n    const [, dispatch] = useContext(CurrentUserContext);\r\n    const [token] = useLocalStorage('token')\r\n\r\n    useEffect(() => {\r\n        if (!token) {\r\n\r\ndispatch({type: 'SET_UNAUTHORIZED', });\r\n            return\r\n        }\r\n      doFetch();\r\n        dispatch({type: 'LOADING'})\r\n       /* setCurrentUserState(state => ({\r\n            ...state,\r\n            isLoading:true\r\n        }))*/\r\n    }, [token, dispatch, doFetch]);\r\n\r\n    useEffect(() => {\r\n        if (!response) {\r\n            return\r\n        }\r\n\r\n       dispatch({type:'SET_AUTHORIZED', payload: response.user})\r\n    }, [response, dispatch])\r\n    return children\r\n};\r\n\r\nexport default CurrentUserChecker;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\n\n\nimport Routes from './routes'\nimport TopBar from \"./Components/TopBar/TopBar\";\nimport {CurrentUserProvider} from \"./context/currentUser\";\nimport CurrentUserChecker from \"./Components/CurrentUserChecker/CurrentUserChecker\";\n\n\nconst App = () => {\n    return (\n        <CurrentUserProvider>\n            <CurrentUserChecker>\n                <Router>\n                    <TopBar/>\n                    <Routes/>\n                </Router>\n            </CurrentUserChecker>\n        </CurrentUserProvider>\n    )\n};\n\nReactDOM.render(\n    <App/>\n    , document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}