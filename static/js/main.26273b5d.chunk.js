(this.webpackJsonpmedium=this.webpackJsonpmedium||[]).push([[0],{11:function(e,t,a){e.exports={h:"Authentication_h__2Bbb6",reg:"Authentication_reg__6snhn",inp:"Authentication_inp__1JxWb",content:"Authentication_content__3_DPO"}},13:function(e,t,a){e.exports={feedMost:"Feed_feedMost__2TOD6",feed:"Feed_feed__1yX7Q",column:"Feed_column__1qEQj",author:"Feed_author__3M5R8",img:"Feed_img__jEjg-",authName:"Feed_authName__1KtMH",ava:"Feed_ava__3SOaJ",createdAt:"Feed_createdAt__1Ixr6",username:"Feed_username__3LIZh"}},15:function(e,t,a){e.exports={img:"AddToFavorite_img__2hi-J",like:"AddToFavorite_like__zm9lk",flex:"AddToFavorite_flex__39qmH",dima:"AddToFavorite_dima__1e5cG"}},17:function(e,t,a){e.exports={GlobalFeed:"GlobalFeed_GlobalFeed__1wc_1",grid:"GlobalFeed_grid__3FGqk"}},19:function(e,t,a){e.exports={PopularTags:"PopularTags_PopularTags__2EpsD",tag:"PopularTags_tag__2WqqW",grid:"PopularTags_grid__31ZBJ"}},24:function(e,t,a){e.exports={paginator:"Paginator_paginator__3Kmm4",active:"Paginator_active__3zDeU"}},25:function(e,t,a){e.exports={ava:"Article_ava__3nij9",dima:"Article_dima__10hB3"}},41:function(e,t,a){e.exports={FeedToggler:"FeedToggler_FeedToggler__3FhVi"}},42:function(e,t,a){e.exports={article:"ArticleForm_article__1lynd"}},44:function(e,t,a){e.exports=a(83)},6:function(e,t,a){e.exports={hh:"TopBar_hh__1JTEJ",logo:"TopBar_logo__1oZYJ",active:"TopBar_active__61wr8",item:"TopBar_item__3Mbny",nav:"TopBar_nav__R2EPg"}},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c),o=a(2),i=a(3),u=a(1),s=a(17),m=a.n(s),E=a(13),f=a.n(E),d=function(e){var t=e.tags;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("span",{key:e},e)})))},p=a(18),g=a(5),b=a(38),v=a.n(b),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(n.useState)((function(){return localStorage.getItem(e)||t})),r=Object(u.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){localStorage.setItem(e,c)}),[c,e]),[c,l]},j=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(null),E=Object(u.a)(m,2),f=E[0],d=E[1],p=Object(n.useState)({}),b=Object(u.a)(p,2),j=b[0],h=b[1],_=O("token"),N=Object(u.a)(_,1)[0],y=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(e),c(!0)}),[]);return Object(n.useEffect)((function(){var t=Object(g.a)(Object(g.a)({},j),{headers:{authorization:N?"Token ".concat(N):""}});r&&v()("https://conduit.productionready.io/api/"+e,t).then((function(e){c(!1),s(e.data)})).catch((function(e){console.log("error",e),c(!1),d(e.response.data)}))}),[r,e,j,N]),[{isLoading:r,response:i,error:f},y]},h=a(39),_=a.n(h),N=a(15),y=a.n(N),S=function(e){var t,a=e.isFavoritted,n=e.favoritesCount,c=e.articleSlug,l="articles/".concat(c,"/favorite"),o=j(l),i=Object(u.a)(o,2),s=i[0].response,m=i[1],E=s?s.article.favoritesCount:n,f=s?s.article.favorited:a;return r.a.createElement("div",{className:y.a.like},r.a.createElement("button",{className:_()((t={},Object(p.a)(t,y.a.flex,!0),Object(p.a)(t,y.a.dima,f),t)),onClick:function(e){e.preventDefault(),m({method:f?"delete":"post"})}},r.a.createElement("img",{className:y.a.img,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Ei-like.svg/1200px-Ei-like.svg.png",alt:""}),r.a.createElement("span",{className:y.a.likes},E)))},x=function(e){var t=e.articles;e.pageSize,e.response,e.limit,e.offset;return r.a.createElement("div",{className:f.a.feedMost},t.map((function(e,t){return r.a.createElement("div",{className:f.a.feed,key:t},r.a.createElement("div",{className:f.a.author},r.a.createElement("div",{className:f.a.authName},r.a.createElement(o.b,{className:f.a.username,to:"/profile/".concat(e.author.username)},e.author.username),r.a.createElement("span",{className:f.a.createdAt},e.createdAt)),r.a.createElement("div",{className:f.a.img},r.a.createElement(o.b,{to:"/profile/".concat(e.author.username)},r.a.createElement("img",{className:f.a.ava,src:e.author.image,alt:" "})))),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/articles/".concat(e.slug)},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement("span",null,"\u0427\u0438\u0442\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435.."),r.a.createElement(d,{tags:e.tagList}))),r.a.createElement("div",null,r.a.createElement(S,{isFavoritted:e.favorited,favoritesCount:e.favoritesCount,articleSlug:e.slug})))})))},C=a(12),F=function(e){var t=Object(C.parse)(e),a=t.page?Number(t.page):1;return{currentPage:a,offset:10*a-10}},T=a(24),L=a.n(T),k=function(e){var t=e.url,a=e.page,n=e.currentPage;return r.a.createElement(o.b,{className:n===a&&L.a.active,to:"".concat(t,"?page=").concat(a)},r.a.createElement("span",null,a))},U=function(e){for(var t=e.total,a=e.limit,n=e.url,c=e.currentPage,l=Math.ceil(t/a),o=[],i=1;i<=l;i++)o.push(i);return r.a.createElement("div",{className:L.a.paginator},o.map((function(e,t){return r.a.createElement(k,{page:e,currentPage:c,url:n,key:e})})))},A=function(){return r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},I=function(e){var t=e.backendErrors,a=Object.keys(t).map((function(e){var a=t[e].join(" ");return"".concat(e," ").concat(a)}));return r.a.createElement("div",null,a.map((function(e){return r.a.createElement("div",{key:e}," ",e)})))},P=a(19),D=a.n(P),w=function(){var e=j("tags"),t=Object(u.a)(e,2),a=t[0],c=a.response,l=a.isLoading,i=a.error,s=t[1];return Object(n.useEffect)((function(){s()}),[s]),l||!c?r.a.createElement(A,null):i?r.a.createElement(I,null):r.a.createElement("div",{className:D.a.PopularTags},r.a.createElement("p",null,"\u0422\u043e\u043f \u0442\u044d\u0433\u043e\u0432:"),r.a.createElement("div",{className:D.a.grid},c.tags.map((function(e){return r.a.createElement(o.b,{className:D.a.tag,to:"/tags/".concat(e),key:e},e)}))))},G={isLoading:!1,isLoggedIn:null,currentUser:null},B=function(e,t){switch(t.type){case"LOADING":return Object(g.a)(Object(g.a)({},e),{},{isLoading:!0});case"SET_AUTHORIZED":return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:!0,isLoading:!1,currentUser:t.payload});case"SET_UNAUTHORIZED":return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:!1});case"LOGOUT":return Object(g.a)(Object(g.a)({},G),{},{isLoggedIn:!1});default:return e}},J=Object(n.createContext)(),R=function(e){var t=e.children,a=Object(n.useReducer)(B,G);return r.a.createElement(J.Provider,{value:a},t)},Z=a(41),H=a.n(Z),z=function(e){var t=e.tagName,a=Object(n.useContext)(J),c=Object(u.a)(a,1)[0];return r.a.createElement("div",{className:H.a.FeedToggler},c.isLoggedIn&&r.a.createElement(o.b,{to:"/feed"},"Your Feed"),r.a.createElement(o.b,{to:"/",exact:!0},"Global Feed"),t&&r.a.createElement(o.b,{to:"/tags/".concat(t),exact:!0},t))},M=function(e){var t=e.location,a=e.match,c=F(t.search),l=c.offset,o=c.currentPage,i=Object(C.stringify)({limit:10,offset:l}),s="articles?".concat(i),E=a.url,f=j(s),d=Object(u.a)(f,2),p=d[0],g=p.response,b=p.isLoading,v=p.error,O=d[1];return Object(n.useEffect)((function(){O()}),[O,o]),r.a.createElement("div",{className:m.a.GlobalFeed},b&&r.a.createElement(A,null),v&&r.a.createElement(I,null),!b&&g&&r.a.createElement(n.Fragment,null,r.a.createElement(z,null),r.a.createElement(U,{total:g.articlesCount,limit:10,url:E,currentPage:o}),r.a.createElement("div",{className:m.a.grid},r.a.createElement(x,{articles:g.articles,pageSize:l,response:g,limit:10,offset:l}),r.a.createElement(w,null))))},q=a(43),V=a(25),W=a.n(V),K=function(e){var t=e.match.params.slug,a="articles/".concat(t),c=j(a),l=Object(u.a)(c,2),i=l[0],s=i.response,m=i.error,E=i.isLoading,f=l[1],p=j(a),g=Object(u.a)(p,2),b=g[0].response,v=g[1],O=Object(n.useContext)(J),h=Object(u.a)(O,1)[0],_=Object(n.useState)(!1),N=Object(u.a)(_,2),y=N[0],S=N[1];Object(n.useEffect)((function(){f()}),[f]);return Object(n.useEffect)((function(){b&&S(!0)}),[b]),y?r.a.createElement(q.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("div",null,"Baner xD",!E&&s&&r.a.createElement("div",null,r.a.createElement("h1",{className:W.a.dima},s.article.title),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/profile/".concat(s.article.author.username)},r.a.createElement("img",{className:W.a.ava,src:s.article.author.image,alt:" "})),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/profile/".concat(s.article.author.username)},s.article.author.username),r.a.createElement("span",null,s.article.createdAt)),!(!s||!h.isLoggedIn)&&s.article.author.username===h.currentUser.username&&r.a.createElement("span",null,r.a.createElement(o.b,{to:"/articles/".concat(s.article.slug,"/edit")}," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("button",{onClick:function(){v({method:"delete"})}}," \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442"))))),r.a.createElement("div",null,E&&r.a.createElement(A,null),m&&r.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),!E&&s&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,s.article.body)),r.a.createElement(d,{tags:s.article.tagList}))))},Q=a(11),Y=a.n(Q),X=function(e){var t="/login"===e.match.path,a=t?"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",c=t?r.a.createElement(o.b,{to:"/register"},"\u041d\u0435\u0442\u0443 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c!"):r.a.createElement(o.b,{to:"/login"},"\u0423 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),l=t?"users/login":"users",s=t?"\u0412\u043e\u0439\u0442\u0438":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",m=Object(n.useState)(""),E=Object(u.a)(m,2),f=E[0],d=E[1],p=Object(n.useState)(""),g=Object(u.a)(p,2),b=g[0],v=g[1],h=Object(n.useState)(""),_=Object(u.a)(h,2),N=_[0],y=_[1],S=Object(n.useState)(!1),x=Object(u.a)(S,2),C=x[0],F=x[1],T=j(l),L=Object(u.a)(T,2),k=L[0],U=k.response,A=k.isLoading,I=k.error,P=L[1],D=O("token"),w=Object(u.a)(D,2)[1],G=Object(n.useContext)(J),B=Object(u.a)(G,2)[1];return Object(n.useEffect)((function(){U&&(w(U.user.token),F(!0),B({type:"SET_AUTHORIZED",payload:U.user}))}),[U,w,B]),C?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:Y.a.content},r.a.createElement("div",null,r.a.createElement("h1",{className:Y.a.h},a)),r.a.createElement("div",{className:Y.a.reg},c),r.a.createElement("form",null,!t&&r.a.createElement("div",{className:Y.a.reg},I&&r.a.createElement("div",null,I.errors.username),r.a.createElement("input",{className:Y.a.inp,type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:N,onChange:function(e){return y(e.currentTarget.value)}})),r.a.createElement("div",{className:Y.a.reg},I&&r.a.createElement("div",null,I.errors.email||"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442"),r.a.createElement("input",{type:"email",className:Y.a.inp,placeholder:"\u041f\u043e\u0447\u0442\u0430",value:f,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:Y.a.reg},I&&r.a.createElement("div",null,I.errors.password),r.a.createElement("input",{type:"password",className:Y.a.inp,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",{className:Y.a.reg},r.a.createElement("button",{onClick:function(e){e.preventDefault(),P({method:"post",data:{user:t?{email:f,password:b}:{email:f,password:b,username:N}}})},disabled:A},s))))},$=function(e){var t=e.location,a=e.match,c=a.params.slug,l=F(t.search),o=l.offset,i=l.currentPage,s=Object(C.stringify)({limit:10,offset:o,tag:c}),m="articles?".concat(s),E=a.url,f=j(m),d=Object(u.a)(f,2),p=d[0],g=p.response,b=p.isLoading,v=p.error,O=d[1];return Object(n.useEffect)((function(){O()}),[O,i,c]),r.a.createElement("div",null,b&&r.a.createElement(A,null),v&&r.a.createElement(I,null),!b&&g&&r.a.createElement(n.Fragment,null,r.a.createElement(z,{tagName:c}),r.a.createElement(U,{total:g.articlesCount,limit:10,url:E,currentPage:i}),r.a.createElement(x,{articles:g.articles,pageSize:o,response:g,limit:10,offset:o}),r.a.createElement(w,null)))},ee=function(e){var t=e.location,a=e.match,c=a.params.slug,l=F(t.search),o=l.offset,i=l.currentPage;console.log("ff",o,i);var s=Object(C.stringify)({limit:10,offset:o,tag:c}),E="articles/feed?".concat(s),f=a.url,d=j(E),p=Object(u.a)(d,2),g=p[0],b=g.response,v=g.isLoading,O=g.error,h=p[1];return Object(n.useEffect)((function(){h()}),[h,i,c]),r.a.createElement("div",null,v&&r.a.createElement(A,null),O&&r.a.createElement(I,null),!v&&b&&r.a.createElement(n.Fragment,null,r.a.createElement(z,{tagName:c}),r.a.createElement(U,{total:b.articlesCount,limit:10,url:f,currentPage:i}),r.a.createElement("div",{className:m.a.grid},r.a.createElement(x,{articles:b.articles,pageSize:o,response:b,limit:10,offset:o}),r.a.createElement(w,null))))},te=a(42),ae=a.n(te),ne=function(e){var t=e.onSubmit,a=e.errors,c=e.initialValues,l=Object(n.useState)(""),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(""),E=Object(u.a)(m,2),f=E[0],d=E[1],p=Object(n.useState)(""),g=Object(u.a)(p,2),b=g[0],v=g[1],O=Object(n.useState)(""),j=Object(u.a)(O,2),h=j[0],_=j[1];return Object(n.useEffect)((function(){c&&(s(c.title),d(c.body),v(c.description),_(c.tagList.join(" ")))}),[c]),r.a.createElement("div",{className:ae.a.article},r.a.createElement("div",null,r.a.createElement("div",null,a&&r.a.createElement(I,{backendErrors:a}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:i,body:f,description:b,tagList:h})}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:f,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e \u0447\u0435\u043c \u0432\u0430\u0448 \u043f\u043e\u0441\u0442",onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0441\u0442",onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:h,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u044d\u0433\u0438",onChange:function(e){return _(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"}," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"))))))},re=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=j("articles"),o=Object(u.a)(l,2),s=o[0],m=s.response,E=s.error,f=o[1],d=Object(n.useContext)(J),p=Object(u.a)(d,1)[0];return Object(n.useEffect)((function(){m&&c(!0)}),[m]),!1===p.isLoggedIn?r.a.createElement(i.a,{to:"/"}):a?r.a.createElement(i.a,{to:"/articles/".concat(m.article.slug)}):r.a.createElement("div",null,r.a.createElement(ne,{errors:E&&E.errors||{},initialValues:{title:"",body:"",description:"",tagList:[]},onSubmit:function(e){f({method:"post",data:{article:e}})}}))},ce=function(e){var t=e.match.params.slug,a=Object(n.useContext)(J),c=Object(u.a)(a,1)[0],l="articles/".concat(t),o=j(l),s=Object(u.a)(o,2),m=s[0].response,E=s[1],f=j(l),d=Object(u.a)(f,2),p=d[0],g=p.response,b=p.error,v=d[1];Object(n.useEffect)((function(){E()}),[E]);var O=Object(n.useState)(null),h=Object(u.a)(O,2),_=h[0],N=h[1],y=Object(n.useState)(!1),S=Object(u.a)(y,2),x=S[0],C=S[1];return Object(n.useEffect)((function(){m&&N({title:m.article.title,description:m.article.description,body:m.article.body,tagList:m.article.tagList})}),[m]),Object(n.useEffect)((function(){g&&C(!0)}),[g]),!1===c.isLoggedIn?r.a.createElement(i.a,{to:"/"}):x?r.a.createElement(i.a,{to:"/articles/".concat(t)}):r.a.createElement(ne,{onSubmit:function(e){v({method:"put",data:{article:e}})},errors:b&&b.errors||{},initialValues:_})},le=function(){var e=Object(n.useContext)(J),t=Object(u.a)(e,2),a=t[0],c=t[1],l=j("/user"),o=Object(u.a)(l,2),s=o[0],m=s.response,E=s.error,f=o[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),b=p[0],v=p[1],h=Object(n.useState)(""),_=Object(u.a)(h,2),N=_[0],y=_[1],S=Object(n.useState)(""),x=Object(u.a)(S,2),C=x[0],F=x[1],T=Object(n.useState)(""),L=Object(u.a)(T,2),k=L[0],U=L[1],A=Object(n.useState)(""),P=Object(u.a)(A,2),D=P[0],w=P[1],G=Object(n.useState)(!1),B=Object(u.a)(G,2),R=B[0],Z=B[1],H=O("token"),z=Object(u.a)(H,2)[1];return Object(n.useEffect)((function(){a.currentUser&&(v(a.currentUser.image),y(a.currentUser.username),F(a.currentUser.bio),U(a.currentUser.email))}),[a.currentUser]),Object(n.useEffect)((function(){m&&c({type:"SET_AUTHORIZED",payload:m.user})}),[m,c]),R?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"\u0412\u0430\u0448\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),E&&r.a.createElement(I,{backendErrors:E.errors}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f({method:"put",data:{user:Object(g.a)(Object(g.a)({},a.currentUser),{},{image:b,username:N,bio:C,email:k,password:D})}})}},r.a.createElement("input",{type:"text",placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0430\u0448\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:b,onChange:function(e){return v(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:N,onChange:function(e){return y(e.target.value)}}),r.a.createElement("input",{type:"textarea",placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435",value:C,onChange:function(e){return F(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"\u041f\u043e\u0447\u0442\u0430",value:k,onChange:function(e){return U(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:D,onChange:function(e){return w(e.target.value)}}),r.a.createElement("button",{type:"submit"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(e){e.preventDefault(),z(""),c({type:"LOGOUT"}),Z(!0)}},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u0430\u043a\u0443\u043d\u0442\u0430")))},oe=function(e){var t=e.username,a=e.location,c=e.isFavorites,l=e.url,o=F(a.search),i=o.offset,s=o.currentPage,m=function(e){var t=e.username,a=e.offset,n=e.isFavorites?{limit:10,offset:a,favorited:t}:{limit:10,offset:a,author:t};return"articles?".concat(Object(C.stringify)(n))}({username:t,offset:i,isFavorites:c}),E=j(m),f=Object(u.a)(E,2),d=f[0],p=d.response,g=d.isLoading,b=d.error,v=f[1];return Object(n.useEffect)((function(){v()}),[v,c]),r.a.createElement("div",null,g&&r.a.createElement(A,null),b&&r.a.createElement("div",null,"error "),!g&&p&&r.a.createElement(n.Fragment,null,r.a.createElement(U,{total:p.articlesCount,limit:10,url:l,currentPage:s}),r.a.createElement(x,{articles:p.articles})))},ie=function(e){var t=e.location,a=e.match,c=a.params.slug,l=t.pathname.includes("favorites"),i="profiles/".concat(c),s=j(i),m=Object(u.a)(s,2),E=m[0].response,f=m[1];return Object(n.useEffect)((function(){f()}),[f]),E?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:E.profile.image,alt:" "}),r.a.createElement("h4",null,E.profile.username),r.a.createElement("p",null,E.profile.bio)),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/profile/".concat(E.profile.username)},"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b")),r.a.createElement("div",null,r.a.createElement(o.b,{to:"/profile/".concat(E.profile.username,"/favorites")},"\u041e\u0442\u043b\u0430\u0439\u043a\u0430\u043d\u043d\u044b\u0435")),r.a.createElement(oe,{username:E.profile.username,location:t,isFavorites:l,url:a.url})):null},ue=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:M,exact:!0}),r.a.createElement(i.b,{path:"/profile/:slug",component:ie}),r.a.createElement(i.b,{path:"/profile/:slug/favorites",component:ie}),r.a.createElement(i.b,{path:"/articles/new",component:re}),r.a.createElement(i.b,{path:"/articles/:slug/edit",component:ce}),r.a.createElement(i.b,{path:"/feed",component:ee}),r.a.createElement(i.b,{path:"/settings",component:le}),r.a.createElement(i.b,{path:"/tags/:slug",component:$}),r.a.createElement(i.b,{path:"/login",component:X}),r.a.createElement(i.b,{path:"/register",component:X}),r.a.createElement(i.b,{path:"/articles/:slug",component:K}))},se=a(6),me=a.n(se),Ee=function(){var e=Object(n.useContext)(J),t=Object(u.a)(e,1)[0];return t.isLoggedIn&&console.log(t.currentUser.image),r.a.createElement("nav",null,r.a.createElement("div",{className:me.a.logo},r.a.createElement(o.b,{to:"/"},"LOGO")),r.a.createElement("div",{className:me.a.item},r.a.createElement(o.b,{activeClassName:me.a.active,className:me.a.hh,to:"/",exact:!0},"\u0414\u043e\u043c\u043e\u0439"),!1===t.isLoggedIn&&r.a.createElement(n.Fragment,null,r.a.createElement(o.b,{activeClassName:me.a.active,className:me.a.hh,to:"/login"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(o.b,{activeClassName:me.a.active,className:me.a.hh,to:"/register"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),t.isLoggedIn&&r.a.createElement(n.Fragment,null,r.a.createElement(o.b,{activeClassName:me.a.active,className:me.a.hh,to:"/articles/new"},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"),r.a.createElement(o.b,{activeClassName:me.a.active,className:me.a.hh,to:"/settings"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(o.b,{activeClassName:me.a.active,className:me.a.hh,to:"/profiles/".concat(t.currentUser.username)},r.a.createElement("img",{src:t.currentUser.image||"https://kacabiru.files.wordpress.com/2010/11/smilelaughuy0.png",alt:t.currentUser.username}),"   ",t.currentUser.username))))},fe=function(e){var t=e.children,a=j("user"),r=Object(u.a)(a,2),c=r[0].response,l=r[1],o=Object(n.useContext)(J),i=Object(u.a)(o,2)[1],s=O("token"),m=Object(u.a)(s,1)[0];return Object(n.useEffect)((function(){m?(l(),i({type:"LOADING"})):i({type:"SET_UNAUTHORIZED"})}),[m,i,l]),Object(n.useEffect)((function(){c&&i({type:"SET_AUTHORIZED",payload:c.user})}),[c,i]),t},de=function(){return r.a.createElement(R,null,r.a.createElement(fe,null,r.a.createElement(o.a,null,r.a.createElement(Ee,null),r.a.createElement(ue,null))))};l.a.render(r.a.createElement(de,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.26273b5d.chunk.js.map